\section{Analytická geometrie lineárních útvarů -- metrické vlastnosti}
\begin{definition}
    Nechť $A,B\subseteq \mathbb E_3$ jsou dva podprostory $\mathbb E_3$. \textbf{Vzdáleností
    podprostorů} $A,B$ nazveme nezáporné reálné číslo $\rho(A,B)$ definovené takto:
    $$\rho(A,B) = \min \{ |XY|: X\in A, Y\in B \},$$
    kde $|XY|$ je délka úsečky $XY.$
\end{definition}

\begin{veta}
    Vzdálenost dvou bodů $A,B$ je délka úsečky $AB.$
\end{veta}

\begin{veta}
    Nechť $A[a_1,a_2]\in \mathbb E_2$ je bod, $p:ax+by+c=0$ je přímka. Pak
    $$\rho(A,p)=\frac{|aa_1+ba_2+c|}{\sqrt{a^2+b^2} }.$$
\end{veta}

\begin{pozn}
    Vzdálenost bodu $A$ od přímky $p$ v $\mathbb E_3$ řešíme třeba vyjádřením délky úsečky
    $AX,$ kde $X$ je nějaký bod na přímce $p$ a nalezením jejího minima.
\end{pozn}

\begin{priklad}\label{primkaabod}
Určete $\rho(A,p), A[1,0,1], p=\left \{ [2-t,t,0],t \in \mathbb R \right \} $.
\end{priklad}

\begin{reseni}
Přímka $p=p(P,\vec u), $ kde $P[2,0,0],\vec u(-1,1,0).$
\begin{enumerate}[1.]
\item způsob: Nechť $A_0=[2-t^*,t^*,0]$. Pak $\vec n = \overrightarrow{AA_0}=A_0-A=(1-t^*,t^*,-1).$
Platí $\vec u\cdot\vec n=0,$ tedy $t^*=-\frac{1}{2},$ odtud $A_0[1,5;0,5;0].$ Vzdálenost
$\rho(A,p)$ je pak $\left |\overrightarrow{AA_0}\right |.$
\item způsob: Najdeme takovou rovinu, která je kolmá na přímku $p$ a leží na ní bod $A$
(normálový vektor roviny je tedy směrový vektor přímky). Dále najdeme průsečík přímky
$p$ s hledanou rovinou -- vzdálenost dvou bodů už počítat umíme.
\item způsob: Libovolný bod $X$ na přímce $p$ má souřadnice $[2-t,t,0]$. Hledáme
minimum velikosti vektoru $\overrightarrow{AX}.$
\end{enumerate}
\end{reseni}

\begin{veta}\label{vzdbodrov}
    Nechť $A[a_1,a_2,a_3]\in \mathbb E_3$ je bod, $\alpha:ax+by+cz+d=0$ je rovina. Pak
    $$\rho(A,\alpha)=\frac{|aa_1+ba_2+ca_2+d|}{\sqrt{a^2+b^2+c^2} }.$$
\end{veta}

\begin{veta}\label{vzdpr}
    Nechť $p:ax+by+c=0,q:ax+by+d=0$ jsou dvě rovnoběžné přímky. Pak
    $$\rho(p,q)=\frac{|d-c|}{\sqrt{a^2+b^2} }.$$
\end{veta}

\begin{pozn}
    Při hledání vzdálenosti dvou rovnoběžných přímek v $\mathbb E_3$ na jedné z nich zvolíme
    libovolný bod a dále pokračujeme podle příkladu \ref{primkaabod}.
\end{pozn}

\begin{pozn}
    Při hledání vzdálenosti přímky od roviny s ní rovnoběžné na přímce zvolíme
    libovolný bod a dále pokračujeme podle věty \ref{vzdbodrov}.
\end{pozn}

\begin{veta}\label{dverov}
    Nechť $\alpha:ax+by+cz+d=0,\beta:ax+by+cz+e=0$ jsou dvě rovnoběžné roviny. Pak
    $$\rho(\alpha,\beta)=\frac{|e-d|}{\sqrt{a^2+b^2+c^2} }.$$
\end{veta}

\begin{pozn}
    Vzdálenost mimoběžných přímek určujeme buď pomocí normálového vektoru rovin,
    ve kterých přímky leží a následně podle věty \ref{dverov}, nebo určením
    osy mimoběžek.
\end{pozn}

\begin{priklad}
Určete vzdálenost mimoběžných přímek $p=\left \{ [9+4t,-2-3t,t],t \in \mathbb R \right \},$ $q=\left \{ [-2r,-7+9r,2+2r],r \in \mathbb R \right \} $.
\end{priklad}

\begin{reseni}
\begin{enumerate}[1.]
\item způsob: Směrové vektory mimoběžek určují rovinu. Jedna obsahuje přímku $p$ a~druhá,
která je s ní rovnoběžná, obsahuje přímku $q$. Dále počítáme podle vzorce.
\item způsob: Hledáme příčku mimoběžek, která je rovnoběžná s vektorem, který
získáme jako vektorový součin směrových vektorů přímek $p,q$.
\end{enumerate}
\end{reseni}

\begin{priklad}
Určete rovnici přímky, která prochází bodem $A[-2,1]$ a od bodu $[3,1]$ má vzdálenost 4.
\end{priklad}

\begin{reseni}
Hledáme přímku tvaru $ax+by+c=0$. Jistě platí $-2a+b+c=0$ a~vzorec pro vzdálenost přímky a roviny.
Máme tři neznámé, ale jen dvě rovnice. Proto jednu z nich zvolíme (musíme uvažovat
nulové a nenulové řešení) a zbylé dvě dopočítáme.
\end{reseni}

\begin{priklad}
Určete rovnici přímky, která prochází bodem $A[1,2]$ a má stejnou vzdálenost od bodů
$B[3,3], C[5,2].$
\end{priklad}

\begin{reseni}
    Hledáme přímku $p: ax+by+c=0$. Protože $A\in p$, platí $a+2b+c=0$. Protože má stejnou vzdálenost od bodů $B$ a $C$, platí navíc
    $$\frac{|3a+3b+c|}{\sqrt{a^2+b^2} }=\frac{|5a+2b+c|}{\sqrt{a^2+b^2} }.$$
    S výhodou druhou rovnici upravíme za použití té první na
    $|2a+b|=|4a|$. Dále už řešíme soustavu rovnic, přičemž jsou buď obě absolutní hodnoty kladné, nebo jedna z nich záporná (ostatní případy
    nám dají stejný vektor o opačné orientaci). Jednu z proměnných zvolíme.
\end{reseni}

\begin{definition}
    \textbf{Odchylka} vektorů je úhel, který dané vektory svírají. Značíme $|\sphericalangle \vec u, \vec v|.$
\end{definition}

\begin{veta}
    Nechť jsou dány vektory $\vec u, \vec v.$ Pak
    $$|\sphericalangle \vec u, \vec v|=\arccos \frac{|\vec u \cdot \vec v|}{|\vec u|\cdot |\vec v|}.$$
\end{veta}

\begin{pozn}
    Platí obdobně i pro přímky dané obecnou rovnicí (vektory $\vec u, \vec v$ jsou
    jejich normálové vektory.)
\end{pozn}

\begin{veta}
    Nechť jsou dány přímky $p(A,\vec u), q(B, \vec v).$ Pak
    $$|\sphericalangle p, q|=\arccos \frac{|\vec u \cdot \vec v|}{|\vec u|\cdot |\vec v|}.$$
\end{veta}

\begin{priklad}
Určete odchylku přímek $\overleftrightarrow{AB}$ a $\overleftrightarrow{BC^\prime}$
krychle $ABCDA^\prime B^\prime C^\prime D^\prime$.
\end{priklad}

\begin{reseni}
Vyjádříme jako vektory a dosadíme do vzorce.
\end{reseni}

\begin{veta}
Nechť jsou dány přímky $p(A,\vec u), q:ax+by+c=0, \vec n(a,b).$ Pak
$$|\sphericalangle p, q|=\arcsin \frac{|\vec u \cdot \vec n|}{|\vec u|\cdot |\vec n|}.$$
\end{veta}

\begin{veta}
    Nechť $p(A,\vec u)$ je přímka, $\alpha:ax+by+cz+d=0$ rovina, $\vec n(a,b,c)$. Pak
    $$|\sphericalangle p, \alpha|=\arcsin \frac{|\vec u \cdot \vec n|}{|\vec u|\cdot |\vec n|}.$$
\end{veta}

\begin{veta}
    Nechť $\alpha:ax+by+cz+d=0, ex+fy+gz+h=0$ jsou dvě roviny a~$\vec m(a,b,c), \vec n(e,f,g).$
    Pak
    $$|\sphericalangle \alpha, \beta|=\arccos \frac{|\vec m \cdot \vec n|}{|\vec m|\cdot |\vec n|}.$$
\end{veta}

\begin{priklad}
Určete rovnici přímky, která má od přímky $p:x-2y+3=0$ odchylku $30^\circ$ a~prochází
jejím průsečíkem s osou $y$.
\end{priklad}

\begin{reseni}
Dosadíme do vzorce a jednu proměnnou zvolíme.
\end{reseni}

\begin{priklad}
Najděte parametrické vyjádření přímky, která prochází počátkem a protíná přímku $p=\left \{ [4+t,3+4t,1-3t],t\in \mathbb R \right \} $
a jejich odchylka je $30^\circ$.
\end{priklad}

\begin{reseni}
Dosadíme do vzorce a jednu proměnnou zvolíme.
\end{reseni}
