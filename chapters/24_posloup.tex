\section{Posloupnosti}
\begin{definition}
Nechť $A$ je množina. Zobrazení $a:\mathbb N\to A$ (nebo $a:\left \{ 1,2,...,k \right \} \to A$)
se nazývá \textbf{posloupnost} prvků množiny $A$, $k\in \mathbb N.$
\end{definition}

\begin{definition}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost reálných čísel. Pak je
\begin{enumerate}[$i.$]
\item \textbf{rostoucí} právě tehdy, když $\forall n \in \mathbb N: a_n< a_{n+1},$
\item \textbf{klesající} právě tehdy, když $\forall n \in \mathbb N: a_n> a_{n+1},$
\item \textbf{nerostoucí} právě tehdy, když $\forall n \in \mathbb N: a_n\geq a_{n+1},$
\item \textbf{neklesající} právě tehdy, když $\forall n \in \mathbb N: a_n\leq a_{n+1}.$
\end{enumerate}
Posloupnost, která má jednu z těchto vlastností, se nazývá \textbf{monotónní}.
Posloupnost rostoucí nebo klesající nazýváme \textbf{ryze monotónní}.
\end{definition}

\begin{priklad}
Určete monotónnost posloupnosti $\left \{ \frac{2n}{n+1} \right \}_{n=1}^\infty $.
\end{priklad}

\begin{reseni}
Spočítáme $a_{n+1}-a_n$.
\end{reseni}

\begin{definition}
    Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost reálných čísel. Pak je
    \begin{enumerate}[$i.$]
    \item \textbf{prostá} právě tehdy, když $\forall m,n\in \mathbb N: m\ne n \implies a_m\ne a_n,$
   	\item \textbf{stacionární} (konstantní) právě tehdy, když $\forall n \in \mathbb N:a_n = a_{n+1}.$
    \end{enumerate}
\end{definition}

\begin{definition}
    Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost reálných čísel. Pak je
    \begin{enumerate}[$i.$]
    \item \textbf{zdola omezená}, pokud existuje $k\in \mathbb R$ takové, že
    $\forall n \in \mathbb N: a_n \geq k,$
   	\item \textbf{shora omezená}, pokud existuje $k\in \mathbb R$ takové, že
    $\forall n \in \mathbb N: a_n \leq k.$
    \end{enumerate}
    Posloupnost je \textbf{omezená}, pokud je omezení shora i zdola.
    Pokud není omezení ani shora, ani zdola, je \textbf{neomezená}.
\end{definition}

\begin{definition}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost reálných čísel a
$\left \{ k_1,k_2,\dots,k_n,\dots \right \} $ je rostoucí posloupnost přirozených čísel.
Pak posloupnost $\left \{{a_k}_n \right \}_{n=1}^\infty = \left \{ {a_k}_1, {a_k}_2, \dots, {a_k}_n,\dots \right \}  $
je \textbf{posloupnost vybraná z posloupnosti} $\left \{ a_n \right \}_{n=1}^\infty $.
\end{definition}

\begin{definition}
Posloupnost $\left \{ a_n \right \}_{n=1}^\infty $ je \textbf{aritmetická} právě
tehdy, když
$$\exists d \in \mathbb R: \forall n \in \mathbb N: a_n=a_{n-1}+d$$
a číslo $d$ se nazývá \textbf{diference}.
\end{definition}

\begin{veta}
    Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je aritmetická posloupnost s diferencí
    $d$. Pak platí:
    \begin{enumerate}[$i.$]
    \item $\forall n\in \mathbb N: a_n = a_1 + (n-1)d,$
   	\item $\forall r,s \in \mathbb N: a_s = a_r + (s-r)d.$
    \end{enumerate}
\end{veta}

\begin{proof}
\begin{enumerate}[$i.$]
\item Matematickou indukcí:
\begin{enumerate}[1.]
\item $n=1: a_1 = a_1+(1-1)d$ platí
\item $a_n = a_1+(n-1)d \implies a_{n+1}=a_1+nd,$ takže $a_{n+1}=a_n+d=a_1+(n-1)d+d=a_1+nd$
\end{enumerate}
\item Užitím již dokázeného vztahu:
\begin{align*}
    a_s &= a_1 + (s-1)d,\\
    a_r &= a_1 + (r-1)d.
\end{align*}
Sečtením dostáváme
$$a_s-a_r = (s-1)d-(r-1)d,$$
takže
$$a_s=a_r+(s-r)d,$$
což jsme chtěli dokázat.\qedhere
\end{enumerate}
\end{proof}

\begin{veta}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je aritmetická posloupnost s diferencí
$d$. Nechť
$$S_n=a_1+a_2+\dots+a_n$$
je součet prvních $n$ členů nekonečné aritmetické posloupnosti nebo součet
$n$-členné aritmetické posloupnosti. Pak platí:
$$\forall n \in \mathbb N:S_n = \frac{1}{2}n(a_1+a_n).$$
\end{veta}

\begin{proof}
\begin{align*}
    S_n &= a_1+a_2+a_3+\dots+a_{n-1}+a_n \\
    &= a_1 + (a_1+d)+ (a_1+2d)+ \dots + [a_1+(n-2)d]+[a_1+(n-1)d]\\
    &= [a_1+(n-1)d]+[a_1+(n-2)d]+\dots+(a_1+2d)+(a_1+d)+a_1\\
    2S_n &= 2a_1 + (n-1)d + 2a_1 + (n-1)d + \dots + 2a_1 + (n-1)d + 2a_1 + (n-1)d\\
    2S_n &= n [a_1 + a_1 + (n-1)d], \textrm{ takže }\\
    S_n &= \frac{n(a_1+a_n)}{2},
\end{align*}
což jsme chtěli dokázat. \qedhere
\end{proof}

\begin{priklad}
Napište prvních pět členů aritmetické posloupnosti, kde platí
\begin{align*}
    a_1+a_4&=12,\\
    a_2-a_6&=-8.
\end{align*}
\end{priklad}

\begin{reseni}
Vyjádříme pomocí $a_1$ a diference a vyřešíme.
\end{reseni}

\begin{definition}
Posloupnost $\left \{ a_n \right \}_{n=1}^\infty $ je \textbf{geometrická} právě
tehdy, když
$$\exists q \in \mathbb R: \forall n \in \mathbb N: a_n=a_{n-1}\cdot q$$
a číslo $q$ se nazývá \textbf{kvocient}.
\end{definition}

\begin{priklad}
Určete, zda posloupnost $\left \{ \frac{2n-1}{3} \right \}_{n=1}^\infty $ je aritmetická, nebo geometrická.
\end{priklad}

\begin{reseni}
Spočítáme $a_{n+1}/a_n$ a $a_{n+1}-a_n$. Je geometrická, je-li $a_{n+1}/a_n$ konstatní a naopak ($a_{n+1}/a_n$ nesmí záviset na $n$).
\end{reseni}

\begin{veta}
    Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je geometrická posloupnost s kvocientem
    $q$. Pak platí:
    \begin{enumerate}[$i.$]
    \item $\forall n\in \mathbb N: a_n = a_1 \cdot q^{n-1},$
   	\item $\forall r,s \in \mathbb N: a_s = a_r \cdot q^{s-r}.$
    \end{enumerate}
\end{veta}

\begin{proof}
\begin{enumerate}[$i.$]
\item Matematickou indukcí:
\begin{enumerate}[1.]
\item $n=1: a_1 = a_1\cdot q^0$ platí
\item $a_n = a_1\cdot q^{n-1}\implies a_{n+1}=a_1\cdot q^n,$ takže $a_{n+1}=a_n\cdot q=a_1\cdot q^{n-1}\cdot q=a_1\cdot q^n$
\end{enumerate}
\item Užitím již dokázeného vztahu:
\begin{align*}
    a_s &= a_1\cdot q^{s-1},\\
    a_r &= a_1\cdot q^{r-1}.
\end{align*}
Vydělením dostáváme
$$\frac{a_s}{a_r} = \frac{a_1\cdot q^{x-1}}{a_1\cdot q^{r-1}}=q^{s-r},$$
takže
$$a_s=a_r\cdot q^{s-r},$$
což jsme chtěli dokázat.\qedhere
\end{enumerate}
\end{proof}

\begin{veta}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je geometrická posloupnost s kvocientem
$q$. Nechť
$$S_n=a_1+a_2+\dots+a_n$$
je součet prvních $n$ členů nekonečné geometrické posloupnosti nebo součet
$n$-členné geometrické posloupnosti. Pak platí $\forall n \in \mathbb N$:
\begin{enumerate}[$i.$]
\item $q=1: S_n=na_1,$
\item $q\ne 1: S_n = a_1\cdot \frac{q^n-1}{q-1}.$
\end{enumerate}
\end{veta}

\begin{proof}
\begin{align*}
    S_n &= a_1+a_2+a_3+\dots+a_{n-1}+a_n \\
    &= a_1 + a_1q+ a_1q^2+ \dots + a_1q^{n-1}\\
    qS_n &= a_1q + a_1q^2 +  \dots + a_1q^{n-1} + a_1q\\
    qS_n-S_n &= -a_1+a_1q^n\\
    S_n(q-1) &= a_1(q^n-1), \textrm{ jestli } q\ne 0, \textrm{ pak}\\
    S_n &= \frac{a_1(q^n-1)}{q-1}
\end{align*}
což jsme chtěli dokázat. \qedhere
\end{proof}

\begin{priklad}
Nalezněte geometrickou posloupnost, pro níž platí
\begin{align*}
    a_1+a_3 &=5,\\
    a_2+a_4 &= 10.
\end{align*}
\end{priklad}

\begin{reseni}
Vyjádříme pomocí $a_1$ a kvocientu a vyřešíme
\end{reseni}

\begin{pozn}
    Rozlišujeme dva typy zadání posloupnosti, a to:
    \begin{enumerate}[$i.$]
    \item \textbf{rekurentní}: pomocí jednoho nebo několika předchozích členů
    \begin{align*}
        a_n=a_{n-1}+d, & & a_{n-1}\cdot q;
    \end{align*}
   	\item \textbf{explicitní}: $n$-tý člen je vyjádřen pomocí $n$
    \begin{align*}
        a_n=a_1+(n-1)d, & & a_n = a_1\cdot q^{n-1}.
    \end{align*}
    \end{enumerate}
\end{pozn}

\begin{priklad}
Nalezněte explicitní vyjádření posloupnosti zadané rekurentně: $a_{n+1}=3a_n+1,a_1=2.$
\end{priklad}

\begin{reseni}
Napíšeme si pár prvních členů posloupnosti a nějak si z toho vycucáme vzorec. Ten
pak dokážeme matematickou indukcí.
\end{reseni}

\begin{definition}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost, $A\in \mathbb R$ číslo.
Posloupnost $\left \{ a_n \right \}_{n=1}^\infty $ má \textbf{limitu} rovnu číslu
$A,$ jestliže
$$\forall \varepsilon \in \mathbb R^+: \exists n_0 \in \mathbb N_0: \forall n \geq n_0,n \in \mathbb N: a_n\in(A-\varepsilon, A+\varepsilon).$$
\end{definition}

\begin{priklad}
Vypočtěte limitu $\lim_{n\to\infty}\frac{n+1}{n}.$
\end{priklad}

\begin{reseni}
Rozšíříme $\frac{1}{n}$. Limita $\lim_{n\to \infty}\frac{1}{n}$ je totiž rovna nule.
\end{reseni}

\begin{definition}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost.
Posloupnost $\left \{ a_n \right \}_{n=1}^\infty $ má \textbf{nevlastní limitu}
$+\infty$ (resp. $-\infty$), jestliže
$$\forall K \in \mathbb R: \exists n_0 \in \mathbb N_0: \forall n \geq n_0, n\in \mathbb N: a_n>K \,\, (\textrm{resp. } a_n<K).$$
\end{definition}

\begin{priklad}
Určete $\lim_{n\to \infty}\frac{4-n^2}{2+n}.$
\end{priklad}

\begin{reseni}
Rozložíme na součin.
\end{reseni}

\begin{definition}
    Má-li posloupnost vlastní limitu, je \textbf{konvergentní}. V opačném
    případě je \textbf{divergentní}.
\end{definition}

\begin{veta}
    Každá posloupnost má nejvýše jednu limitu.
\end{veta}

\begin{veta}
    Každá konvergentní posloupnost je omezená.
\end{veta}

\begin{veta}
    Každá nekonečná posloupnost vybraná z konvergentní posloupnosti
    je konvergentní a má stejnou limitu.
\end{veta}

\begin{veta}[Věta o třech limitách]
    Nechť $\left \{ a_n \right \}_{n=1}^\infty $, $\left \{ b_n \right \}_{n=1}^\infty $,
    $\left \{ c_n \right \}_{n=1}^\infty $ jsou tři posloupnosti takové, že
    $$\exists m\in \mathbb N: \forall n \geq m:a_n \leq b_n \leq c_n \land \lim_{n\to \infty}a_n=\lim_{n\to \infty}c_n=A.$$
    Pak $\lim_{n\to\infty}b_n=A.$
\end{veta}

\begin{veta}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $, $\left \{ b_n \right \}_{n=1}^\infty $
jsou dvě posloupnosti. Nechť $\lim_{n\to \infty}a_n = A, \lim_{n\to \infty}b_n = B$
a $c\in \mathbb R$ je libovolné číslo. Pak platí:
\begin{enumerate}[$i.$]
\item $\lim_{n\to \infty}\left ( a_n\pm b_n \right ) =A\pm B,$
\item $\lim_{n\to\infty}\left ( ca_n \right ) =c\cdot \lim_{n\to\infty}a_n=cA,$
\item $\lim_{n\to\infty}\left ( a_nb_n \right )=A\cdot B, $
\item $\lim_{n\to\infty}\left ( \frac{a_n}{b_n} \right ) =\frac{A}{B}.$
\end{enumerate}
\end{veta}

\begin{veta}
    Nechť $\left \{ a_n \right \}_{n=1}^\infty $, $\left \{ b_n \right \}_{n=1}^\infty $
    jsou posloupnosti takové, že $\lim_{n\to\infty}a_n=0$ a $\left \{ b_n \right \}_{n=1}^\infty $
    je omezená. Pak $\lim_{n\to\infty}\left ( a_nb_n \right ) =0.$
\end{veta}

\begin{definition}
Nechť $M$ je podmnožina množiny reálných čísel. Číslo $a\in \mathbb R$ (pokud existuje)
nazveme \textbf{horní} (resp. \textbf{dolní}) \textbf{závorou} množiny $M$ právě tehdy,
když
$$\forall x \in M:x\leq a \,\, (\textrm{resp. }x\geq a).$$
\end{definition}

\begin{definition}\label{supinf}
Nechť $M$ je podmnožina množiny reálných čísel. Číslo $c\in \mathbb R$ (pokud existuje)
nazveme \textbf{supremem} (resp. \textbf{infimem}) množiny $M$, jestliže je její
nejmenší horní závorou (resp. největší dolní závorou), tzn. že platí:
\begin{enumerate}[$i.$]
\item $\forall x\in M:x\leq c \,\, (\textrm{resp. } x\geq c),$
\item $\forall t\in \mathbb R: \forall x\in  M:x\leq t \implies t\geq c \,\, (\textrm{resp. }x\geq t \implies t\leq c).$
\end{enumerate}
Značíme $c=\sup M$ (resp. $c=\inf M$).
\end{definition}

\begin{definition}
Nechť $\left \{ a_n \right \}_{n=1}^\infty $ je posloupnost reálných čísel. Číslo
$$S_n=a_1+a_2+\dots+a_n = \sum_{i=1}^\infty a_i, n\in \mathbb N$$
nazýváme \textbf{$n$-tým částečným součtem} posloupnosti $\left \{ a_n \right \}_{n=1}^\infty $.
Posloupnost $\left \{ S_n \right \}_{n=1}^\infty $ nazýváme \textbf{posloupnost
částečných součtů} posloupnosti $\left \{ a_n \right \}_{n=1}^\infty $.\\
\textbf{Nekonečnou řadou} nazveme posloupnost částečných součtů
$\left \{ S_n \right \}_{n=1}^\infty $ a značíme stručně
$$\sum_{n=1}^\infty a_n.$$
Čísla $a_n, n=1,2,\dots$ nazýváme \textbf{členy řady}, čísla $S_n, n=1,2,\dots$
nazýváme \textbf{částečné součty řady}.
\end{definition}

\begin{definition}
Má-li posloupnost částečných součtů $\left \{ S_n \right \}_{n=1}^\infty $
limitu $S$, řekneme, že nekonečná řada $\sum_{n=1}^\infty a_n$ \textbf{konverguje}
a číslo $S$ nazveme jejím součtem. V opačném případě \textbf{diverguje}.
\end{definition}

\begin{veta}
    Nechť je řada $\sum_{n=1}^\infty a_n$ konvergentní, pak $\lim_{n\to\infty} a_n=0.$
\end{veta}

\begin{veta}
    Dvě řady lišící se v konečném počtu členů se chovají stejně.
\end{veta}

\begin{pozn}
    Dále budeme studovat řady s nezápornými členy (tzn. k jejich konvergenci stačí, aby byly shora omezené).
\end{pozn}

\begin{veta}[Srovnávací kriterium konvergence]
Nechť $\sum_{n=1}^\infty a_n, \sum_{n=1}^\infty b_n$ jsou řady s nezápornými členy
s vlastností
$$\forall n \in \mathbb N: a_n \leq b_n.$$
Pak platí:
\begin{enumerate}[$i.$]
\item konverguje-li řada $\sum_{n=1}^\infty b_n,$ konverguje taky $\sum_{n=1}^\infty a_n.$
\item diverguje-li řada $\sum_{n=1}^\infty a_n,$ diverguje taky $\sum_{n=1}^\infty b_n.$
\end{enumerate}
\end{veta}

\begin{pozn}
    Řada
    $$\sum_{n=1}^\infty \frac{1}{n(n+1)}$$
    konverguje.
\end{pozn}

\begin{veta}
    Řada $\sum_{n=1}^\infty \frac{1}{n^a}$ konverguje právě tehdy, když $a>1, a\in \mathbb R^+.$
\end{veta}

\begin{veta}[Limitní srovnávací kriterium]
Nechť $\sum_{n=1}^\infty a_n, \sum_{n=1}^\infty b_n$ jsou řady s kladnými čísly.
Nechť $\exists \lim_{n\to\infty}\frac{a_n}{b_n}=c.$ Pak platí:
\begin{enumerate}[$i.$]
\item $c\ne 0\land c\ne \infty \implies$ řady se chovají stejně,
\item $c=0 \land \sum_{n=1}^\infty b_n$ konverguje $\implies \sum_{n=1}^\infty a_n$ konverguje,
\item $c=\infty \land \sum_{n=1}^\infty b_n$ diverguje $\implies \sum_{n=1}^\infty a_n$ diverguje.
\end{enumerate}
\end{veta}

\begin{priklad}
Rozhodněte o chování řady $\sum_{n=1}^\infty \frac{n^2+n+1}{n^3+1}$.
\end{priklad}

\begin{reseni}
Srovnáme s $\sum_{n=1}^\infty \frac{1}{n}$, která diverguje. Počítáme tedy
$$
\lim_{n\to\infty}\frac{\frac{n^2+n+1}{n^3+1}}{\frac{1}{n}}.
$$
Je-li rozdílná od nuly a od nekonečna, chovají se řady stejně.
\end{reseni}

\begin{definition}
Nekonečnou řadu $\sum_{n=1}^\infty a_n,$ kde $\left \{ a_n \right \}_{n=1}^\infty $
je geometrická posloupnost s kvocientem $q$, nazveme \textbf{nekonečnou geometrickou
řadou} a číslo $q$ nazveme jejím \textbf{kvocientem}.
\end{definition}

\begin{veta}\label{konvergencerad}
    Nechť řada $\sum_{n=1}^\infty a_n$ je geometrická řada s kvocientem $q$, kde
    $|q|<1.$ Pak je tato řada konvergentní a má součet
    $$S=\frac{a_1}{1-q}.$$
\end{veta}

\begin{proof}
Počítejme
\begin{align*}
    A =&\lim_{n\to\infty} S_n = \lim_{n\to\infty}a_1\cdot \frac{q^n - 1}{q-1}=\frac{a_1}{q-1}\cdot \lim_{n\to\infty}(q^n-1)\\
    & \textrm{jestliže } |q|<1, \textrm{ pak} \\
    = & \frac{a_1}{q-1}\cdot (0-1)=-\frac{a_1}{q-1}=\frac{a_1}{1-q}\qedhere
\end{align*}
\end{proof}


\begin{priklad}
Určete součet řady $\sum_{n=1}^\infty 1/2^n.$
\end{priklad}

\begin{reseni}
Je $a_1=\frac{1}{2},q=\frac{1}{2}$. Platí $|q|<1$, takže můžeme použít větu
\ref{konvergencerad}.
\end{reseni}

\begin{priklad}
Je dán čtverec o straně $a$, spojnice středů jeho stran tvoří stranu dalšího čtverce,
\dots Určete součet obsahů a obvodů takto vzniklých čtverců.
\end{priklad}
